<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soapdiy.mapper.AddressMapper">
	<select id="fineAddressById" parameterType="Integer" resultMap="fineAddressByIdResult">
		select * from address where add_id=#{value}
	</select>
	
	<insert id="addAddress" parameterType="address">
		insert into address(c_id,telephone,name,address) value(#{customer.c_id},#{telephone},#{name},#{address})
	</insert>
	
	<resultMap type="address" id="fineAddressByIdResult">
		<id property="add_id" column="add_id"/>
		<result property="telephone" column="telephone"/>
		<result property="name" column="name"/>
		<result property="address" column="address"/>
		<association property="customer" javaType="customer" 
		select="com.soapdiy.mapper.CustomerMapper.fineCustomerById" column="c_id"/>
	</resultMap>
</mapper>